---
title: 数据库范式
date: 2017-02-26 20:25:34
tags: 
- 数据库
- 范式
---

范式是符合某一种级别的关系模式的集合，表示一个关系内部各属性之间的联系的合理化程度。实际上可以理解为一张数据库表的表结构复合某种设计标准的级别。数据库的范式分为1FN，2NF，3NF，BCNF，4NF，5NF。一般在设计关系数据库的时候，最多考虑到BCNF就够。

### 第一范式

#### 符合1NF的关系中每个属性不可再分

表1所示的情况不符合1NF的要求。

![](/images/533D6870-C507-442B-A7B6-3F365769BBFF.png)

表1
1NF是所有关系型数据库的最基本要求也就是说，只要在RDBMS中已经存在的数据表，一定是符合1NF的。如果我们要在RDBMS中表现表中的数据，就得设计为表2的形式。

编号|品名|进货数量|进货单价|销售数量|销售单价|备注
---|------|------|------|------|------|------|---
|||||

表2

### 第二范式

#### 数据表里的所有数据都要和数据表的主键有完全依赖关系；如果有哪些数据只和和主键的一部分有关的话，它就不符合第二范式。同时可以得出：如果一个数据表的主键只有一个单一字段的话，他就一定符合第二范式（前提是该数据表符合第一范式）

仅仅符合1NF的设计回存在数据大量冗余的情况，如表3

学号姓名|系名|系主任|课名|分数
---|---|---|---|---
10222001|李霞明|经济系|王强|高等数学|95
10222001|李霞明|经济系|王强|大学英语|89
10222001|李霞明|经济系|王强|普通化学|90
10222002|张丽莉|经济系|王强|高等数学|81
10222002|张丽莉|经济系|王强|大学英语|99
10222002|张丽莉|经济系|王强|计算机基础|99
10222003|高峰|法律系|刘雯|高等数学|78
10222003|高峰|法律系|刘雯|法学基础|89
表3

下面列出表3的依赖关系

学号→姓名

学号→系名

学号→课名

学号→系主任

（学号，课名）→分数

学号，课名作为表中的主键，姓名，系名课名，系主任存在对主键的部分依赖，所以该表不符合第二范式的要求。

为了让表3符合第二范式的要求，我们必须消除这些部分函数依赖，只有一个办法，就是将大数据表拆分成两个或者更小的数据表。以下是一种方式：

学生（学号，姓名，系名，课名，系主任）

成绩（学号，课名，分数）

可以看出，对于学生表，由于主键只有学号，所以肯定符合2NF，对于成绩表，作为学号和课名作为主键，非主属性分数由学号和课名共同决定，所以也符合2NF。

学号|课名|分数
---|---|---
10222001|高等数学|95
10222001|大学英语|89
10222001|普通化学|90
10222002|高等数学|81
10222002|大学英语|99
10222002|计算机基础|99
10222003|高等数学|78
0222003|法学基础|89
表4

学号|姓名|系名|系主任
---|---|---|---
10222001|李霞明|经济系|王强
10222002|张丽莉|经济系|王强
10222003|高峰|法律系|刘雯
表5

### 第三范式

#### 数据库中的数据对于主键不存在函数传递依赖

第三范式在第二范式的基础之上下厨了非主属性对于码的依赖。

加下来我们看看表4和表5是否符合第三范式的要求

对于成绩表而言，由于非主属性只有一个，所以不可能存在传递依赖

对于学生表，主键为学号，非主属性为姓名，系名，主任。由于 学号→系名 系名→系主任，所以存在非主属性对于码的传递依赖。

为了让学生表达到第三范式，我们需要进一步分解数据

成绩（学号，课名，分数）
学生（学号，姓名，系名）
系（系名，系主任）

学号|姓名|系名
---|---|---
10222001 | 李霞明 | 经济系
10222002 | 张丽莉 |  经济系
10222003| 高峰| 法律系

表6

系名|系主任
---|---|---
法律系|刘雯
经济系|王强
表7


符合第三范式的数据库设计，基本解决了了数据冗余过大，插入修改删除异常。
`